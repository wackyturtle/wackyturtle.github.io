---
layout: single
title: "스파르타 내일배움 캠프 64일차 TIL"
date: 2025-08-19 19:00:00 +0900
categories: [TIL, all]
classes: wide
sidebar:
    nav: "counts"
---
<br><br>
# Dart의 with (Mixin) 정리

## ❓ 궁금증

Dart에서 클래스를 생성할 때 `extends` 말고 `with`는 뭐하는 걸까?\
굳이 상속으로 해결할 수 있는 것 같은데, 왜 `with`를 따로 쓸까?

------------------------------------------------------------------------

## 💡 답안

### 🔹 1. 기본 개념

-   `extends` : 부모 클래스를 **상속**해서 속성과 메서드를 물려받음
    (단일 상속만 가능)
-   `with` : 여러 개의 **mixin 클래스**를 섞어서 기능을 추가 (다중 적용
    가능)

👉 `extends`는 "부모-자식 관계"\
👉 `with`는 "필요한 기능만 빌려쓰기"

------------------------------------------------------------------------

### 🔹 2. Mixin 이란?

-   독립적인 기능(메서드) 묶음\
-   다른 클래스에 재사용하기 좋음\
-   생성자가 없어야 함\
-   상태보다는 **행동 중심**으로 작성됨

``` dart
mixin Walk {
  void walk() => print("걷는 중...");
}

mixin Fly {
  void fly() => print("나는 중...");
}
```

------------------------------------------------------------------------

### 🔹 3. 예시 코드

``` dart
class Animal {
  void eat() => print("먹는 중...");
}

class Bird extends Animal with Walk, Fly {
  void chirp() => print("짹짹!");
}

void main() {
  var bird = Bird();
  bird.eat();   // Animal
  bird.walk();  // Walk mixin
  bird.fly();   // Fly mixin
  bird.chirp(); // Bird 자체 메서드
}
```

출력 결과:

    먹는 중...
    걷는 중...
    나는 중...
    짹짹!

➡️ `extends`는 한 번만 가능하지만, `with`는 여러 mixin을 동시에 적용할
수 있음.

------------------------------------------------------------------------

### 🔹 4. 왜 그냥 Animal 안에 다 넣지 않을까?

``` dart
class Animal {
  void eat() => print("먹는 중...");
  void swim() => print("수영 중...");
  void run() => print("달리는 중...");
}
```

이렇게 하면 **모든 Animal이 수영·달리기 가능**해져버림.\
하지만 현실적으로는 달팽이는 달릴 수 없고, 금붕어는 달릴 수 없음.

➡️ `Animal`이 불필요하게 커지고, 잘못된 모델링이 됨.

------------------------------------------------------------------------

### 🔹 5. with가 필요한 이유

1.  **단일 상속 제한 해결**
    -   `extends`는 한 번만 가능하지만, `with`는 여러 기능 조합 가능
2.  **기능의 독립성**
    -   `Swimming`, `Running` 같은 기능은 동물뿐만 아니라 `Submarine`,
        `Robot` 등 다른 클래스에서도 재사용 가능
3.  **유연한 조합**
    -   어떤 클래스는 `Animal + Swimming`, 어떤 클래스는
        `Vehicle + Running`처럼 다양한 조합 가능
4.  **책임 분리 (SRP)**
    -   `Animal`은 동물 본질에만 집중\
    -   "수영할 수 있다" 같은 부가 기능은 mixin으로 따로 분리

------------------------------------------------------------------------

### 🔹 6. Flutter에서 자주 쓰이는 예시

``` dart
class MyState extends State<MyWidget> with SingleTickerProviderStateMixin {
  late AnimationController _controller;

  @override
  void initState() {
    super.initState();
    _controller = AnimationController(
      vsync: this, // mixin 덕분에 가능
    );
  }
}
```

➡️ `SingleTickerProviderStateMixin`은 애니메이션 프레임 동기화를 위한
기능 제공.\
➡️ `State`를 이미 상속했기 때문에, 이런 기능은 `with`로만 추가할 수
있음.

------------------------------------------------------------------------

## ✅ 최종 정리

-   `extends` = 본질적 특성 (is-a 관계)\
-   `with` = 부가적인 능력 추가 (has-capability)\
-   `implements` = 규격 맞추기 (interface 역할)

👉 `extends`는 "혈연관계", `with`는 "재능 빌려오기"
